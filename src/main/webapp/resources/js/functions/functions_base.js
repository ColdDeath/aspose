function countElem(e){return e.length}function getId(){return new URL(window.location.href).searchParams.get("id")}function getPage(){return new URL(window.location.href).searchParams.get("page")}function getName(e,n){return $.getJSON(e,function(e){var t=e.lastname+" "+e.firstname+" "+e.patronym;$(n).html(t),$("#hiddenUserBlock2").html('<input type="hidden" id="helpLogin" value="'+e.name+'"><input type="hidden" id="helpFIO" value="'+t+'"><input type="hidden" id="helpPhone" value="'+e.phone+'"><input type="hidden" id="helpEmail" value="'+e.email+'">')})}$.getJSON("rest/profile/users/getDelegatedUser",function(e){if(0!==e.length){var t=e.firstname.substr(0,1)+".",n=e.patronym.substr(0,1)+".",a=e.lastname+" "+t+" "+n;$("#currentUser").html("полномочия пользователя: "+a)}}),$.getJSON("https://api.ipify.org/?format=json",function(e){$("#hiddenUserBlock1").html('<input type="hidden" id="helpIPAddress" value="'+e.ip+'">')});var templateUser=$("#templateUser").html();function getMenuPils(e,t){var n="";return $.getJSON(e,function(e){n=countElem(e),$(t).html(n)})}function checkValidation(e){var n=!0;return $(e).each(function(){var e=$(this).attr("id"),t="#"+e+"_chosen";""==$(this).val()?($("#"+e).addClass("chosen-invalid"),$(t+" .chosen-single").addClass("chosen-invalid"),$(t+" .chosen-choices").addClass("chosen-invalid"),n=!1):($("#"+e).removeClass("chosen-invalid"),$(t+" .chosen-single").removeClass("chosen-invalid"),$(t+" .chosen-choices").removeClass("chosen-invalid"))}),n}function changeValidationField(e){$(e).change(function(){""!=$(this).val()&&$(this).removeClass("chosen-invalid")})}function getValueOrganisation(e,t){return $.getJSON(e,function(e){$(t+" #shortNameLf").val(e.shortNameLf),$(t+" #fullNameLf").val(e.fullNameLf),$(t+" #inn").val(e.inn),$(t+" #ogrn").val(e.ogrn),$(t+" #kpp").val(e.kpp),$(t+" #address").val(e.address),$(t+" #fioManager").val(e.fioManager),$(t+" #positionManager").val(e.positionManager),$(t+" #shortName").val(e.shortName),$(t+" #shortLegalForm").val(e.shortLegalForm),$(t+" #fullLegalForm").val(e.fullLegalForm),$(t+" #normalizedName").val(e.normalizedName)})}function getFinalStage(e,t){return $.getJSON(e,function(e){!0===e.finalDoc&&($(t).addClass("d-none"),$(t+" select").removeAttr("required")),!1===e.finalDoc&&($(t).removeClass("d-none"),$(t+" select").attr("required",!0))})}function createUserList(e,t){return $.getJSON(e,function(e){$(t).html(e.position)})}function formatDate(e,t){var n=(e=new Date(e)).getDate();n<10&&(n="0"+n);var a=e.getMonth()+1;a<10&&(a="0"+a);var i=e.getFullYear();return 1==t?i+"-"+a+"-"+n:n+"-"+a+"-"+i}function formatTime(e){var t=(e=new Date(e)).getHours();t<10&&(t="0"+t);var n=e.getMinutes();return n<10&&(n="0"+n),t+":"+n}getName("rest/profile/users/getByName?name="+templateUser,"#templateUser"),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"md-toast-bottom-right",preventDuplicates:!1,onclick:null,showDuration:300,hideDuration:1e3,timeOut:5e3,extendedTimeOut:1e3,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};